<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BioMed</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="BioMedAPI.js" type="javascript"></script>
</head>
<body>
<div class="content">
<input class="query"><button class="submit">submit</button>
</div>
</body>
</html>
<script>
    $(document).ready(function(){
        $('.submit').on('click',function(){
            var query = $('.query').val();
            getData(query);
        });
        console.log("loaded");
    });
    function getData(query){
        var t0 = performance.now();
        console.log("getData function call");
        $.ajax({
            url:"http://api.springer.com/metadata/json?api_key=aad28331d38b527c831274156fde309c&q=" +query+ "&s=1&p=13",
            success:function(response){
                console.log('success: ' , JSON.parse(response ));
                var allData = JSON.parse(response);
                var year  = allData.records[0].publicationDate[0] +allData.records[0].publicationDate[1] + allData.records[0].publicationDate[2] + allData.records[0].publicationDate[3];
                $('.content').append("<h2> Title : <br>"+ allData.records[0].title +"</h2>");
                $('.content').append("<h2> Year : <br>"+ year + "</h2>");
                $('.content').append("<p> Summary : <br>"+ allData.records[0].abstract +"</p>");
                $('.content').append("<h4> Authors : <br>"+ allData.records[0].creators[0].creator +"</h4>");
                $('.content').append("<a> Link : <br>"+ allData.records[0].url[0].value +"</a>");
                $('.content').append("<a> Keywords : <br>"+ allData.facets[0].values[0].value +"</a>");


                var t1 = performance.now();
                console.log("Results took " + (Math.round(t1 - t0)/1000).toFixed(3)   + " seconds");

            },
            error: function(response){
                console.log('error: ' , response);
            }
        })
    }

</script>